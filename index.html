<!DOCTYPE html>
<html lang="en" class="[&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-gray-400 dark:[&::-webkit-scrollbar-thumb]:bg-gray-600">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="A modern, offline manga viewer." />
    <title>Manga Viewer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <!-- Vite injects CSS here -->
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 font-sans transition-colors duration-300 overflow-y-scroll">
    <!-- Main Application Container -->
    <div id="app" class="flex flex-col min-h-screen relative">
        <div id="sidebar-toggle-container" class="fixed top-2 left-2 z-50">
        </div>

        <!-- Password Prompt (Initially Hidden, content generated by JS) -->
        <div id="password-modal" class="fixed inset-0 z-[100] hidden items-center justify-center bg-black/70 backdrop-blur-sm">
            <!-- PasswordPrompt.js will populate this -->
        </div>

        <!-- Loading Spinner (Initially Hidden) -->
        <div id="loading-spinner" class="fixed inset-0 z-[90] hidden items-center justify-center bg-black/30">
            <div class="h-12 w-12 animate-spin rounded-full border-4 border-solid border-blue-500 border-t-transparent" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>

        <!-- Sidebar (Structure defined, content/icons added by JS) -->
        <aside id="sidebar"
               class="fixed top-0 left-0 h-screen w-0 bg-white dark:bg-gray-800 shadow-lg z-40 transition-all duration-50 ease-in-out flex flex-col items-center py-4 overflow-y-auto no-scrollbar">
             <!-- SidebarManager.js will populate this -->
        </aside>

        <!-- Main Content Area (Pushed right by sidebar) -->
        <div id="main-content" class="flex-grow transition-all duration-300 ease-in-out ml-0">

            <!-- Homepage View (Initially Hidden, content generated by JS) -->
            <div id="homepage-container" class="container mx-auto px-4 py-8 hidden">
                <!-- HomePageUI.js will populate this -->
            </div>

            <!-- Viewer View (Initially Hidden) -->
            <div id="viewer-container" class="hidden flex-col items-center relative">
                <!-- Progress Bar -->
                <div id="chapter-progress-bar" class="fixed top-0 left-0 h-1 w-0 bg-green-500 z-50 transition-[width] duration-100 ease-linear data-[sidebar-open=true]:left-48"></div>

                <!-- Image Container -->
                <main id="image-container" class="w-full px-1 sm:px-4 py-5 flex flex-col items-center"></main>

                <!-- Navigation Bar (Structure defined, content/icons added by JS) -->
                <nav id="nav-container" class="fixed top-0 left-1/2 -translate-x-1/2 mt-2 px-4 py-2 bg-gray-800/70 dark:bg-black/70 backdrop-blur-sm rounded-full shadow-lg z-30 flex items-center space-x-1 sm:space-x-2 opacity-0 transform -translate-y-full transition-all duration-100 ease-in-out">
                    <!-- NavigationManager.js will populate this -->
                </nav>

                <!-- Scrubber Icon -->
                <div id="scrubber-icon" class="fixed right-4 top-4 z-25 p-3 text-white dark:text-gray-300 pointer-events-none cursor-pointer transition-opacity duration-300 opacity-50">
                    <!-- ScrubberManager.js adds icon -->
                </div>

                <!-- Scrubber (Structure defined, content added by JS) -->
                <div id="scrubber-parent" class="fixed right-0 top-0 h-full z-20 flex items-center pointer-events-none opacity-0 transition-opacity">
                    <!-- Scrubber Container -->
                    <div id="scrubber-container" class="h-full flex items-center bg-gradient-to-l from-black/60 via-black/40 to-transparent pl-4 pr-4 pointer-events-none">
                        <!-- Preview Area -->
                        <div id="scrubber-preview" class="h-full overflow-hidden relative mr-4 pointer-events-none">
                            <div class="flex flex-col items-end space-y-2 py-4 transform transition-transform duration-50 ease-linear p-2">
                                <!-- ScrubberManager.js adds preview images -->
                            </div>
                        </div>
                        <!-- Scrubber Track/Handle Area -->
                        <div id="scrubber" class="relative h-full w-10 lg:w-14 pointer-events-auto cursor-grab active:cursor-grabbing">
                            <div id="scrubber-hitbox-extension" class="absolute top-0 bottom-0 -left-10 w-10 h-full pointer-events-auto cursor-grab active:cursor-grabbing"></div>
                             <!-- Active Marker -->
                            <div id="scrubber-marker-active" class="absolute left-0 w-full h-8 bg-blue-600/80 rounded text-white text-xs flex items-center justify-center pointer-events-none transform transition-transform duration-50 ease-linear">
                                <!-- ScrubberManager.js updates text/position -->
                            </div>
                            <!-- Hover/Drag Marker -->
                            <div id="scrubber-marker" class="absolute left-0 w-full h-8 bg-gray-300/80 dark:bg-gray-700/80 rounded text-gray-900 dark:text-white text-xs flex items-center justify-center pointer-events-none transform opacity-0 transition-opacity duration-100">
                                <!-- ScrubberManager.js updates text/position -->
                            </div>
                        </div>
                    </div>
                </div>
            </div> <!-- End Viewer Container -->
        </div> <!-- End Main Content Area -->

        <!-- Modals Container (Modals are appended here by JS) -->
        <div id="modal-container"></div>

        <!-- Lightbox (Initially Hidden, content generated by JS) -->
        <div id="lightbox" class="fixed inset-0 z-[70] hidden items-center justify-center bg-black/80 backdrop-blur-sm cursor-zoom-out">
            <!-- Lightbox.js will populate this -->
        </div>

    </div> <!-- End #app -->

    <!-- JS Entry Point -->
    <script type="module" src="/src/js/main.js"></script>
</body>
</html>